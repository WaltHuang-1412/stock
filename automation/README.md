# ğŸ“… è‚¡ç¥¨åˆ†æè‡ªå‹•åŒ–æ’ç¨‹ç³»çµ±

**ç‰ˆæœ¬**ï¼šv1.0
**æ›´æ–°**ï¼š2025-11-20

---

## ğŸ¯ ç³»çµ±åŠŸèƒ½

### è‡ªå‹•åŒ–ä»»å‹™

| æ™‚é–“ | ä»»å‹™ | åŠŸèƒ½ |
|------|------|------|
| **08:00** | ç›¤å‰æ•¸æ“šæŸ¥è©¢ | âœ… æŸ¥è©¢æ˜¨æ—¥æ³•äººæ•¸æ“š<br>âœ… æŸ¥è©¢ç¾è‚¡æ”¶ç›¤<br>âœ… macOSé€šçŸ¥æé†’ |
| **12:30** | ç›¤ä¸­åˆ†æ | âœ… åŸ·è¡Œintraday_analyzer_v2.py<br>âœ… åˆ†æç›¤å‰æ¨è–¦è‚¡ |

### âš ï¸ é‡è¦èªªæ˜

**æ’ç¨‹å¯ä»¥åš**ï¼š
- âœ… è‡ªå‹•æŸ¥è©¢æ•¸æ“šï¼ˆæ³•äººã€ç¾è‚¡ï¼‰
- âœ… è‡ªå‹•ç™¼é€é€šçŸ¥
- âœ… è‡ªå‹•åŸ·è¡Œç›¤ä¸­åˆ†æå·¥å…·

**æ’ç¨‹ç„¡æ³•åš**ï¼ˆéœ€è¦èˆ‡Claudeå°è©±ï¼‰ï¼š
- âŒ è‡ªå‹•æ’°å¯«ç›¤å‰åˆ†æå ±å‘Š
- âŒ è‡ªå‹•æ¨è–¦è‚¡ç¥¨ï¼ˆæ–°ç³»çµ±è¦æ±‚å¿…é ˆæ¨è–¦3-5æª”ï¼‰
- âŒ è‡ªå‹•å‰µå»ºtracking.json

---

## ğŸš€ å¿«é€Ÿé–‹å§‹ï¼ˆ3åˆ†é˜ï¼‰

### Step 1: å®‰è£

```bash
cd /Users/walter/Documents/GitHub/stock

# åŸ·è¡Œå®‰è£è…³æœ¬
bash automation/install.sh
```

---

### Step 2: å•Ÿå‹•æ’ç¨‹

**æ–¹å¼Aï¼šç°¡å–®æ¨¡å¼ï¼ˆæ¨è–¦æ–°æ‰‹ï¼‰**

```bash
# åŸ·è¡Œæ’ç¨‹ï¼ˆä¿æŒTerminalé–‹å•Ÿï¼‰
python3 automation/scheduler.py
```

çœ‹åˆ°è¼¸å‡ºï¼š
```
ğŸ“… è‚¡ç¥¨åˆ†ææ’ç¨‹å·²å•Ÿå‹•

æ’ç¨‹æ™‚é–“ï¼š
  - 08:00  ç›¤å‰æ•¸æ“šæŸ¥è©¢
  - 12:30  ç›¤ä¸­åˆ†æåŸ·è¡Œ

æŒ‰ Ctrl+C åœæ­¢æ’ç¨‹
```

---

**æ–¹å¼Bï¼šé€²éšæ¨¡å¼ï¼ˆé–‹æ©Ÿè‡ªå‹•å•Ÿå‹•ï¼‰**

```bash
# è¤‡è£½é…ç½®åˆ°ç³»çµ±ç›®éŒ„
cp automation/com.stock.before_market.plist ~/Library/LaunchAgents/
cp automation/com.stock.intraday.plist ~/Library/LaunchAgents/

# è¼‰å…¥æ’ç¨‹
launchctl load ~/Library/LaunchAgents/com.stock.before_market.plist
launchctl load ~/Library/LaunchAgents/com.stock.intraday.plist

# é©—è­‰
launchctl list | grep stock
```

**è©³ç´°èªªæ˜**ï¼šåƒè€ƒ `SCHEDULE_SETUP.md`

---

### Step 3: æ¸¬è©¦

**æ‰‹å‹•æ¸¬è©¦æ’ç¨‹**ï¼š

```bash
# æ¸¬è©¦ç›¤å‰æ•¸æ“šæŸ¥è©¢
python3 automation/run_before_market.py

# æ¸¬è©¦ç›¤ä¸­åˆ†æ
python3 intraday_analyzer_v2.py
```

çœ‹åˆ°è¼¸å‡ºï¼š
```
âœ… æ³•äººæ•¸æ“šæŸ¥è©¢æˆåŠŸ
âœ… å°ç©é›»ADR: $282.37
âœ… é€šçŸ¥å·²ç™¼é€
```

---

## ğŸ“‹ ä½¿ç”¨æµç¨‹

### æ—©ä¸Šå·¥ä½œæµç¨‹

```
08:00 â†’ æ’ç¨‹è‡ªå‹•æŸ¥è©¢æ•¸æ“š
      â†’ macOSé€šçŸ¥ï¼šã€ŒğŸ“Š ç›¤å‰åˆ†ææº–å‚™å°±ç·’ã€

08:30 â†’ ä½ æ‰“é–‹Claude Code
      â†’ èªªï¼šã€Œé–‹å§‹ç›¤å‰åˆ†æã€
      â†’ Claudeè‡ªå‹•åŸ·è¡Œå®Œæ•´åˆ†æ
      â†’ ç”Ÿæˆbefore_market_analysis.md
      â†’ å‰µå»ºtracking.json
```

---

### ä¸­åˆå·¥ä½œæµç¨‹

```
12:30 â†’ æ’ç¨‹è‡ªå‹•åŸ·è¡Œç›¤ä¸­åˆ†æ
      â†’ ç”Ÿæˆintraday_analysis.md
      â†’ åˆ†æç›¤å‰æ¨è–¦çš„5æª”è‚¡ç¥¨
      â†’ çµ¦å‡ºå°¾ç›¤ç­–ç•¥

12:45 â†’ ä½ æŸ¥çœ‹åˆ†æå ±å‘Š
      â†’ æ±ºå®šæ˜¯å¦å°¾ç›¤åŠ ç¢¼
```

---

### ä¸‹åˆå·¥ä½œæµç¨‹

```
15:00 â†’ ä½ æ‰“é–‹Claude Code
      â†’ èªªï¼šã€Œé–‹å§‹ç›¤å¾Œåˆ†æã€
      â†’ ClaudeåŸ·è¡Œåˆ†æ
      â†’ é©—è­‰ä»Šæ—¥æ¨è–¦æº–ç¢ºç‡
      â†’ é æ¸¬æ˜æ—¥æ©Ÿæœƒè‚¡
```

---

## ğŸ“ æ–‡ä»¶çµæ§‹

```
automation/
â”œâ”€â”€ README.md                        # æœ¬æ–‡ä»¶
â”œâ”€â”€ SCHEDULE_SETUP.md                # è©³ç´°è¨­å®šæŒ‡å—
â”œâ”€â”€ install.sh                       # å®‰è£è…³æœ¬
â”œâ”€â”€ scheduler.py                     # Pythonæ’ç¨‹ï¼ˆç°¡å–®æ¨¡å¼ï¼‰
â”œâ”€â”€ run_before_market.py             # ç›¤å‰æ•¸æ“šæŸ¥è©¢è…³æœ¬
â”œâ”€â”€ com.stock.before_market.plist    # launchdé…ç½®ï¼ˆç›¤å‰ï¼‰
â””â”€â”€ com.stock.intraday.plist         # launchdé…ç½®ï¼ˆç›¤ä¸­ï¼‰
```

---

## ğŸ”§ ç®¡ç†æ’ç¨‹

### å•Ÿå‹•æ’ç¨‹

**Pythonæ¨¡å¼**ï¼š
```bash
python3 automation/scheduler.py
```

**launchdæ¨¡å¼**ï¼š
```bash
launchctl load ~/Library/LaunchAgents/com.stock.before_market.plist
```

---

### åœæ­¢æ’ç¨‹

**Pythonæ¨¡å¼**ï¼š
```bash
# æŒ‰ Ctrl+C

# æˆ–æŸ¥æ‰¾ä¸¦æ®ºæ‰é€²ç¨‹
ps aux | grep scheduler
kill <PID>
```

**launchdæ¨¡å¼**ï¼š
```bash
launchctl unload ~/Library/LaunchAgents/com.stock.before_market.plist
```

---

### æŸ¥çœ‹æ—¥èªŒ

```bash
# ç›¤å‰æ•¸æ“šæŸ¥è©¢æ—¥èªŒ
tail -f logs/before_market.log

# ç›¤ä¸­åˆ†ææ—¥èªŒ
tail -f logs/intraday.log

# éŒ¯èª¤æ—¥èªŒ
tail -f logs/before_market.error.log
```

---

## âš™ï¸ è‡ªå®šç¾©è¨­å®š

### ä¿®æ”¹åŸ·è¡Œæ™‚é–“

**Pythonæ¨¡å¼**ï¼ˆç·¨è¼¯ `scheduler.py`ï¼‰ï¼š
```python
# æ”¹ç‚ºæ—©ä¸Š07:30åŸ·è¡Œ
schedule.every().day.at("07:30").do(run_before_market)
```

**launchdæ¨¡å¼**ï¼ˆç·¨è¼¯ `com.stock.before_market.plist`ï¼‰ï¼š
```xml
<key>StartCalendarInterval</key>
<dict>
    <key>Hour</key>
    <integer>7</integer>  <!-- æ”¹ç‚º7é» -->
    <key>Minute</key>
    <integer>30</integer>  <!-- æ”¹ç‚º30åˆ† -->
</dict>
```

---

### æ–°å¢ç›¤å¾Œæ•¸æ“šæŸ¥è©¢

1. è¤‡è£½ `run_before_market.py` ç‚º `run_after_market.py`
2. ä¿®æ”¹æ™‚é–“åƒæ•¸ï¼ˆæŸ¥è©¢ç•¶æ—¥æ•¸æ“šè€Œéæ˜¨æ—¥ï¼‰
3. åŠ å…¥æ’ç¨‹ï¼š

```python
# scheduler.py
def run_after_market():
    subprocess.run(['python3', 'automation/run_after_market.py'])

schedule.every().day.at("15:00").do(run_after_market)
```

---

## ğŸš¨ æ•…éšœæ’é™¤

### å•é¡Œ1ï¼šæ’ç¨‹æ²’æœ‰åŸ·è¡Œ

**æª¢æŸ¥**ï¼š
```bash
# Pythonæ¨¡å¼
ps aux | grep scheduler

# launchdæ¨¡å¼
launchctl list | grep stock
```

**è§£æ±º**ï¼š
- Pythonæ¨¡å¼ï¼šç¢ºèªTerminalæ²’æœ‰é—œé–‰
- launchdæ¨¡å¼ï¼šé‡æ–°è¼‰å…¥é…ç½®

---

### å•é¡Œ2ï¼šæ•¸æ“šæŸ¥è©¢å¤±æ•—

**æª¢æŸ¥æ—¥èªŒ**ï¼š
```bash
tail -f logs/before_market.error.log
```

**å¸¸è¦‹åŸå› **ï¼š
- ç¶²è·¯é€£ç·šå•é¡Œ
- è­‰äº¤æ‰€APIæš«æ™‚ç„¡æ³•è¨ªå•
- Yahoo Finance APIé™åˆ¶

**è§£æ±º**ï¼š
- æª¢æŸ¥ç¶²è·¯é€£ç·š
- ç¨å¾Œé‡è©¦
- æŸ¥çœ‹éŒ¯èª¤è¨Šæ¯

---

### å•é¡Œ3ï¼šé€šçŸ¥æ²’æœ‰æ”¶åˆ°

**æª¢æŸ¥macOSé€šçŸ¥æ¬Šé™**ï¼š
1. ç³»çµ±åå¥½è¨­å®š â†’ é€šçŸ¥
2. æ‰¾åˆ°ã€Œçµ‚ç«¯æ©Ÿã€æˆ–ã€ŒPythonã€
3. å…è¨±é€šçŸ¥

---

### å•é¡Œ4ï¼šmacOSä¼‘çœ å¾Œä¸åŸ·è¡Œ

**è§£æ±ºæ–¹æ¡ˆA**ï¼šè¨­å®šé›»æºå°æ†©
1. ç³»çµ±åå¥½è¨­å®š â†’ ç¯€èƒ½
2. å•Ÿç”¨ã€Œé›»æºå°æ†©ã€
3. å…è¨±æ’ç¨‹åœ¨ä¼‘çœ æ™‚åŸ·è¡Œ

**è§£æ±ºæ–¹æ¡ˆB**ï¼šä½¿ç”¨pmseté˜²æ­¢ä¼‘çœ 
```bash
# é˜²æ­¢é›»è…¦ä¼‘çœ ï¼ˆåƒ…åœ¨æ’é›»æ™‚ï¼‰
sudo pmset -c sleep 0
```

---

## ğŸ“Š æ•ˆæœé æœŸ

### ä½¿ç”¨æ’ç¨‹å‰

```
æ¯å¤©æ—©ä¸Šèµ·åºŠ â†’ æ‰“é–‹Claude â†’ ç­‰5-10åˆ†é˜æ•¸æ“šæŸ¥è©¢ â†’ é–‹å§‹åˆ†æ
```

### ä½¿ç”¨æ’ç¨‹å¾Œ

```
æ—©ä¸Šèµ·åºŠ â†’ å·²æ”¶åˆ°é€šçŸ¥ â†’ æ‰“é–‹Claude â†’ ç«‹å³é–‹å§‹åˆ†æï¼ˆæ•¸æ“šå·²å°±ç·’ï¼‰
```

**ç¯€çœæ™‚é–“**ï¼šæ¯å¤©ç´„5-10åˆ†é˜

---

## ğŸ”’ å®‰å…¨æ€§

### æ•¸æ“šå®‰å…¨
- âœ… æ‰€æœ‰æ•¸æ“šå­˜å„²åœ¨æœ¬åœ°
- âœ… ä¸ä¸Šå‚³ä»»ä½•å€‹äººè³‡æ–™
- âœ… APIè«‹æ±‚åƒ…é™å…¬é–‹æ•¸æ“š

### ç³»çµ±å®‰å…¨
- âœ… è…³æœ¬åƒ…è®€å–å…¬é–‹API
- âœ… ä¸ä¿®æ”¹ç³»çµ±è¨­å®š
- âœ… å¯éš¨æ™‚åœç”¨/ç§»é™¤

---

## ğŸ“š ç›¸é—œæ–‡æª”

- **è©³ç´°è¨­å®š**ï¼š`SCHEDULE_SETUP.md`
- **ç›¤ä¸­åˆ†æå·¥å…·**ï¼š`../intraday_analyzer_v2.py`
- **ç³»çµ±è¦ç¯„**ï¼š`../CLAUDE.md`

---

## ğŸ†˜ éœ€è¦å¹«åŠ©ï¼Ÿ

**å¸¸è¦‹å•é¡Œ**ï¼š
1. æ’ç¨‹æ²’æœ‰åŸ·è¡Œ â†’ æª¢æŸ¥ `SCHEDULE_SETUP.md` æ•…éšœæ’é™¤ç« ç¯€
2. æƒ³ä¿®æ”¹æ™‚é–“ â†’ åƒè€ƒã€Œè‡ªå®šç¾©è¨­å®šã€ç« ç¯€
3. æƒ³å®Œå…¨ç§»é™¤ â†’ åŸ·è¡Œåœæ­¢å‘½ä»¤å¾Œåˆªé™¤æ–‡ä»¶

**è¯ç¹«**ï¼š
- æŸ¥çœ‹ç³»çµ±æ—¥èªŒï¼š`logs/`ç›®éŒ„
- æª¢æŸ¥GitHub Issues

---

**æœ€å¾Œæ›´æ–°**ï¼š2025-11-20
**ç‰ˆæœ¬**ï¼šv1.0
**ä½œè€…**ï¼šClaude Code
