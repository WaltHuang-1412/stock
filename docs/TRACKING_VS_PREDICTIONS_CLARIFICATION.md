# tracking vs predictions 系統差異說明

**紀錄日期**：2025-11-28
**事件**：用戶質疑「tracking 和 predictions 是一樣嗎？」
**結論**：❌ **兩個系統完全不同，各有用途**

---

## 🚨 重要澄清

### **Claude 初始錯誤判斷**
我最初**錯誤地認為**兩個系統重複，建議只使用 tracking/ 系統。

### **用戶正確質疑**
用戶問「tracking 和 predictions 是一樣嗎你確定？」→ 促使我深入檢查

### **實際發現**
經過詳細比對，**兩個系統功能完全不同，互為補充**。

---

## 📊 系統差異對比表

| 項目 | tracking/ 系統 | predictions/ 系統 |
|------|---------------|--------------------|
| **主要功能** | 記錄推薦股票 | 預測+驗證結果 |
| **防事後諸葛** | ✅ 核心功能 | ❌ 非主要功能 |
| **準確率追蹤** | ❌ 無驗證機制 | ✅ 核心功能 |
| **數據結構** | 靜態推薦清單 | 預測+實際結果 |
| **更新方式** | 手動建立 | 自動驗證 |
| **文件格式** | tracking_YYYY-MM-DD.json | predictions.json |
| **驗證字段** | 無 | verification{actual_close, result} |
| **目標** | 避免盤中亂推薦 | 測量預測準確率 |
| **使用狀態** | ✅ 每日使用 | ❌ 10/30停更（已修復） |

---

## 🎯 具體案例說明

### **tracking/ 格式範例**
```json
{
  "date": "2025-11-28",
  "recommendations": [
    {
      "symbol": "2801",
      "name": "彰銀",
      "recommend_price": "20.3-20.5",
      "score": 87,
      "rating": "⭐⭐⭐⭐⭐",
      "reason": "投信連4日買超"
    }
  ]
}
```
**用途**：記錄「我今天推薦了什麼股票」→ 防止盤中事後諸葛

### **predictions/ 格式範例**
```json
{
  "2025-11-26": {
    "predictions": [
      {
        "symbol": "2801",
        "name": "彰銀",
        "target_range": "20.0-20.3",
        "confidence": 0.83,
        "verification": {
          "actual_close": 20.45,
          "actual_change": 0.49,
          "result": "partial",
          "notes": "推薦價20.0-20.3 vs 實際20.45"
        }
      }
    ],
    "accuracy": 0.0
  }
}
```
**用途**：驗證「我的預測是否準確」→ 測量系統效果

---

## 🔄 系統關係圖

```
盤前分析
    ↓
建立 tracking_YYYY-MM-DD.json  ← 記錄推薦（防事後諸葛）
    ↓
[等待1-2日]
    ↓
更新 predictions.json  ← 驗證結果（測量準確率）
    ↓
計算準確率統計
```

---

## 📈 實際數據證明差異

### **tracking/ 系統記錄**（2025-11-28）
- 南亞(1303)：推薦52.0-52.5元
- 彰銀(2801)：推薦20.3-20.5元
- 緯創(3231)：推薦144-146元
- **功能**：證明「我確實推薦了這些股票」

### **predictions/ 系統驗證**（2025-11-26）
- 彰銀：推薦20.0-20.3元 → 實際20.45元 → result: "partial"
- 永豐金：推薦26.8-27.2元 → 實際27.25元 → result: "fail"
- **功能**：「推薦準確率只有0%，需要改進」

---

## 🎯 為什麼兩個系統都需要？

### **1. 解決不同問題**
- **tracking/**：解決「事後諸葛」問題
- **predictions/**：解決「不知道準確率」問題

### **2. 時間軸不同**
- **tracking/**：盤前建立，當日使用
- **predictions/**：事後驗證，長期統計

### **3. 用途不同**
- **tracking/**：給盤中分析工具讀取
- **predictions/**：給準確率分析使用

---

## 📚 歷史教訓

### **用戶質疑的價值**
- ✅ 防止了錯誤的系統簡化
- ✅ 促使深入理解系統架構
- ✅ 避免了功能缺失

### **Claude 需要改進**
- ❌ 初始分析過於表面
- ❌ 沒有深入比對功能差異
- ❌ 過快下結論

### **正確做法**
- ✅ 仔細比對數據結構
- ✅ 理解每個系統的具體用途
- ✅ 考慮用戶的實際需求

---

## 🔧 後續行動

### **已完成**
- ✅ 重新啟動 predictions/ 系統
- ✅ 補上11月份驗證數據
- ✅ 釐清兩個系統的關係

### **持續維護**
- 🔄 每日更新 tracking/ （防事後諸葛）
- 🔄 定期更新 predictions/ （追蹤準確率）
- 🔄 兩個系統並行運作

---

## 📋 檢查清單（避免再犯）

在分析系統架構時：
- [ ] 詳細比對文件格式
- [ ] 理解每個系統的具體用途
- [ ] 檢查是否有不同的更新機制
- [ ] 考慮用戶的實際工作流程
- [ ] 避免過快下「重複」結論

**結論**：**用戶的質疑100%正確**，兩個系統功能互補，都需要維護。